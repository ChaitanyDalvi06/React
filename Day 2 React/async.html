<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>



        // function getUsers()
        //{
        //    let url=""
        // }



        //console.log("line 1");
        //console.log("line 2");

        //setTimeout(()=>{

        //    console.log("line 3")
        // },0)


        //console.log("line 4");
        //console.log("line 5");


        //promise
        //let p=new promise((resolve,reject)=>{

        // let i=1
        // if(i==1)
        // {
        //     resolve("all good")
        // }
        // else
        // {
        //     reject("you always do this")
        //  }
        //})
        //  p
        //  .then((msg)=>{console.log(msg)})
        //  .catch((error)=>{console.log(error)})




        function getUser() {
            return new Promise((resolve, reject) => {

                //callapi("https://www.chaitanya.com/users")
                let users = [{ name: "dalvi" }, { name: "chaitanya" }]
                //let users=null
                if (users != null) {
                    resolve(users)
                }
                else {
                    reject(new Error("some problem"))
                }
            })
        }

        function getPosts(user) {
            return new Promise((resolve, reject) => {

                //callapi("https://www.chaitanya.com/users"+user.name)
                let posts = [{ id: 1, title: "Good place" }, { id: 2, title: "Good Food" }]
                //let users=null
                if (posts != null) {
                    resolve(posts)
                }
                else {
                    reject(new Error("unable to fetch posts"))
                }
            })
        }





        getUser()
            .then((users) => {

                console.log(users)

                getPosts(users[0])
                    .then((posts) => {
                        console.log(posts)
                    })
                    .catch((error) => {
                        console.log(error)
                    })
            })
            .catch((error) => {
                console.log(error)
            })

            fetch("https://jsonplaceholder.typicode.com/users")
            .then((response)=>{return response.json()})
            .then((data)=>{console.log(data)})
            .catch((error)=>{console.log(error)})
            


    </script>

</body>
</html>